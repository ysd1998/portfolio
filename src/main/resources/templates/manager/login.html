<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/5.3.2/css/bootstrap.min.css}">
	<script rel="text/javascript" th:src="@{/webjars/jquery/3.7.1/jquery.min.js}"></script>
	<!-- ※必ず先にJQueryを読み込む -->
	<meta charset="UTF-8">
	<title>ログイン画面</title>
</head>

<body class="d-flex align-items-center bg-body-tertiary">
	<main class="form-signin w-100  m-auto">
		<header class="d-flex flex-wrap align-items-center justify-content-center py-3 mb-4 border-bottom" style="background-color: #a6a6a6;color:#fff;">
			<div class="col-md-3 mb-2 mb-md-0 row justify-content-center">
				<h2 class="text-center">DSBooks検索システム</h2>
			</div>
		</header>
		<div class="container align-items-center text-center">
			<form sec:authorize="!hasAuthority('User')" th:action="@{login}" method="post" th:object="${loginForm}">
				<div class="form-group">
					<div class="d-flex flex-wrap align-items-center justify-content-center mt-sm-2 mt-auto mb-sm-2 mb-auto">
						<div class="row g-1">
							<div class="col-auto">
								<p><label>&emsp;&emsp;&emsp;ID</label></p>
							</div>
							<div class="col-auto"><input class="form-control" type="text" th:field="*{loginid}"></div>
						</div>
					</div>
					<div class="d-flex flex-wrap align-items-center justify-content-center mt-sm-2 mt-auto mb-sm-2 mb-auto">
						<div class="row g-1">
							<div class="col-auto">
								<p><label>パスワード&nbsp;</label></p>
							</div>
							<div class="col-auto"><input class="form-control" type="password" th:field="*{password}">
							</div>
						</div>
					</div>
					<input type="hidden" name="admin" value="admin">
					<span th:text="${errorMsg}"></span>
					<br>
					<input class="btn btn-primary" type="submit" value="ログイン">
				</div>
			</form>
			<span sec:authorize="hasAuthority('User')" th:text="現在一般ユーザーがログインしています。他のブラウザからログインしてください。"></span>
		</div>
	</main>
</body>

</html>